<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Hello-pages</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <div class="container">
        <div class="jumbotron">
          <h1>Hello-Page!!!</h1>
          <p class="lead">by Robin.K</p>
        </div>
        <div class="git"></div>
      </div>
      <ul id="repos"></ul>

      <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
      <script src="js/bootstrap.min.js"></script>

      <script>
            (function ($) {
                $(document).ready(function () {

                    $.ajax({

                        url: "https://api.github.com/users/seokminkang/repos",

                        // the name of the callback parameter, as specified by the YQL service

                        jsonp: "callback",

                        // tell jQuery we're expecting JSONP

                        dataType: "jsonp",

                        // work with the response

                        success: function (response) {

                            //console.log(response); // server response
                            //alert(response.data.length);
                            $.each(response.data, function (i, repo) {

                                //var li = $("<li></li>").text(repo.html_url);
                                //$("#repos").append(li);
                                                  

                                var tmpUrl = $('<a></a>').append(repo.name).attr('href', repo.html_url);
                                var title = $('<h3></h3>').append(tmpUrl).addClass('panel-title');
                                var heading = $('<div></div>').append(title).addClass('panel-heading');


                                if (repo.description.length != 0) {
                                    var desc = $('<div></div>').append(repo.description).addClass('panel-body');
                                }
                                else {
                                    var desc = $('<div></div>').append('None').addClass('panel-body');
                                }
                                
                                var create = repo.created_at.substring(0, 10);
                                var created = create + "&nbsp;" ;
                                var tick = $('<span> </span>').append(created).addClass('glyphicon glyphicon-ok');
                                var star = $('<span> </span>').append(repo.forks).addClass('glyphicon glyphicon-star');
                                var footer = $('<div></div>').append(tick, star).addClass('panel-footer');

                                if (repo.fork == true) {
                                    var fork = "&nbsp;"+ '<span class="label label-success">Forked</span>';
                                    title.append(fork);
                                    //var heading = $('<div></div>').append(title, fork).addClass('panel-heading');
                                    var primary = $('<div></div>').append(heading, desc, footer).addClass('panel panel-info');
                                }
                                else {
                                    var primary = $('<div></div>').append(heading, desc, footer).addClass('panel panel-primary');
                                }

                                var grid = $('<div></div>').append(primary).addClass('col-xs-12 col-sm-6 col-md-4 col-lg-4');
                                $('.git').append(grid);

                            });
                        }
                    });
                });
            })(jQuery);
        </script>
  </body>
</html>